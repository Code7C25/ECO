<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Respiraci贸n Guiada - ECO</title>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">

<style>
  body{
    margin:0;
    font-family:'Poppins', sans-serif;
    background:linear-gradient(160deg,#f3d9ff,#d5e8ff);
    height:100vh;
    display:flex;
    flex-direction:column;
    align-items:center;
    justify-content:center;
    text-align:center;
    overflow:hidden;
    animation:pageFade .8s ease;
  }

  @keyframes pageFade {
    from { opacity:0; transform:translateY(10px); }
    to { opacity:1; transform:translateY(0); }
  }

  h2{
    margin-bottom:10px;
    font-weight:600;
    color:#5a2e7a;
    font-size:2rem;
    animation:fadeIn 1s ease;
  }

  @keyframes fadeIn {
    from { opacity:0; }
    to { opacity:1; }
  }

  /* Texto din谩mico */
  #textoRespiracion{
    font-size:1.6rem;
    margin-top:10px;
    color:#4a3b52;
    opacity:0;
    transition:opacity .4s ease;
  }

  /* C铆rculo animado moderno */
  .circulo{
    width:130px;
    height:130px;
    border-radius:50%;
    background:rgba(255,255,255,0.65);
    box-shadow:0 10px 25px rgba(0,0,0,0.10);
    margin-top:30px;
    transition:all 2.5s ease;
  }

  .expandir{
    transform:scale(1.22);
    background:rgba(255,255,255,0.85);
  }

  /* Botones */
  .btn{
    padding:12px 25px;
    font-size:1rem;
    font-weight:600;
    border:none;
    border-radius:20px;
    cursor:pointer;
    margin:20px 8px 0 8px;
    background:#b881f7;
    color:white;
    box-shadow:0 4px 15px rgba(0,0,0,0.2);
    transition:.25s ease;
  }

  .btn:hover{
    background:#a06ce6;
    transform:translateY(-2px);
  }

  .btn-detener{
    background:#ff88a6;
  }

  .btn-detener:hover{
    background:#ff6d90;
  }

  /* Texto explicativo */
  .info{
    margin-top:35px;
    font-size:.9rem;
    color:#6d6d6d;
    max-width:300px;
    line-height:1.5;
    opacity:0.75;
  }

  /*  Bot贸n de inicio (igual que login) */
  .home-btn {
    background-color: white;
    border-radius: 50%;
    width: 45px;
    height: 45px;
    display: flex;
    align-items: center;
    justify-content: center;
    position: absolute;
    top: 20px;
    left: 20px;
    box-shadow: 0 3px 8px rgba(0,0,0,0.2);
    cursor: pointer;
    transition: 0.3s;
    z-index: 9999;
  }

  .home-btn:hover {
    transform: scale(1.05);
  }
</style>

</head>
<body>

<!--  CASITA (IGUAL QUE EN LOGIN) -->
<div class="home-btn" onclick="window.location.href='menu.html'">
  <img src="../assets/home-icon.png" alt="Inicio" style="width:28px; height:28px; opacity:0.8;">
</div>

<h2>Respiraci贸n guiada</h2>

<div id="textoRespiracion">Inhala</div>

<div id="circulo" class="circulo"></div>

<div>
  <button class="btn" onclick="iniciar()">Iniciar</button>
  <button class="btn btn-detener" onclick="detener()">Detener</button>
</div>

<p class="info">
  Esta t茅cnica ayuda a reducir la ansiedad y a regular la respiraci贸n.  
  Usala cuando quieras calmarte y recuperar el equilibrio.
</p>

<script>
let intervalo = null;
let paso = 0;
const texto = document.getElementById("textoRespiracion");
const circulo = document.getElementById("circulo");

/* 1 segundo por paso */
const fases = [
  { nombre:"Inhala", animacion:true },
  { nombre:"1", animacion:null },
  { nombre:"2", animacion:null },
  { nombre:"3", animacion:null },
  { nombre:"4", animacion:null },

  { nombre:"Ret茅n", animacion:null },
  { nombre:"1", animacion:null },
  { nombre:"2", animacion:null },
  { nombre:"3", animacion:null },
  { nombre:"4", animacion:null },

  { nombre:"Exhala", animacion:false },
  { nombre:"1", animacion:null },
  { nombre:"2", animacion:null },
  { nombre:"3", animacion:null },
  { nombre:"4", animacion:null },
];

function iniciar(){
  detener();
  paso = 0;

  texto.style.opacity = "1";

  intervalo = setInterval(()=>{
    const fase = fases[paso];

    texto.textContent = fase.nombre;

    if(fase.animacion === true){
      circulo.classList.add("expandir");
    }
    if(fase.animacion === false){
      circulo.classList.remove("expandir");
    }

    paso++;
    if(paso >= fases.length){
      paso = 0;
    }

  }, 1000);
}

function detener(){
  clearInterval(intervalo);
  texto.style.opacity = "0.4";
  circulo.classList.remove("expandir");
}
</script>

</body>
</html>

